/**
 * 3D Book Catalogue Styles
 * Swiss Online Style - Premium page flip experience
 * 
 * @description Styles for the interactive catalogue viewer with realistic
 * paper textures, 3D transforms, and smooth flip animations.
 * @updated 2026-01-17
 */

/* =============================================================================
   CSS CUSTOM PROPERTIES
   Centralized design tokens for consistency and maintainability
   ============================================================================= */

:root {
  /* Paper Colors */
  --catalogue-paper-light: #faf9f7;
  --catalogue-paper-mid: #f5f4f2;

  /* Shadow Opacities */
  --catalogue-shadow-strong: rgba(0, 0, 0, 0.3);
  --catalogue-shadow-medium: rgba(0, 0, 0, 0.2);
  --catalogue-shadow-light: rgba(0, 0, 0, 0.1);
  --catalogue-shadow-subtle: rgba(0, 0, 0, 0.05);
  --catalogue-shadow-faint: rgba(0, 0, 0, 0.02);
  --catalogue-texture-overlay: rgba(0, 0, 0, 0.015);
  --catalogue-texture-fiber: rgba(0, 0, 0, 0.01);

  /* Animation Timing */
  --catalogue-flip-duration: 0.8s;
  --catalogue-hover-duration: 0.3s;
  --catalogue-settle-duration: 0.6s;
  --catalogue-easing-smooth: ease-in-out;
}

/* =============================================================================
   CATALOGUE CONTAINER
   3D perspective context for page flipping
   ============================================================================= */

#product-catalogue {
  perspective-origin: 50% 50%;
  transform-style: preserve-3d;
}

/* =============================================================================
   PAGE BASE STYLES
   Core page element with 3D transforms
   ============================================================================= */

/* Force hide all react-pageflip internal shadows */
.stf__block,
.stf__item,
.stf__leaf {
  box-shadow: none !important;
  background: white !important;
  /* Force white background to hide potential spine gaps */
  border: none !important;
}

/* Hide the spine shadow specifically if it exists as a separate element */
.stf__spine {
  display: none !important;
}

.catalogue-page {
  transition: transform var(--catalogue-flip-duration) var(--catalogue-easing-smooth);
  will-change: transform;
  transform-style: preserve-3d;
}

/* Subtle lift effect on hover */
.catalogue-page:hover {
  transform: translateZ(3px) rotateY(1deg);
  transition: transform var(--catalogue-hover-duration) linear;
}

/* =============================================================================
   PAPER TEXTURES
   Realistic paper appearance with multi-layer effects
   ============================================================================= */

/* Paper grain texture overlay */
.page-texture {
  background: transparent;
  mix-blend-mode: multiply;
}

/* Paper surface with gradient and subtle spots */
.paper-surface {
  background: var(--catalogue-paper-light);
  position: relative;
}

.paper-surface::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: none;
  pointer-events: none;
}

/* Fine paper texture overlay */
.paper-overlay {
  position: absolute;
  inset: 0;
  background-image: none;
  pointer-events: none;
  mix-blend-mode: multiply;
  opacity: 0.3;
}

/* =============================================================================
   SHADOWS & DEPTH
   Realistic shadow effects for 3D book appearance
   ============================================================================= */

/* Book spine inset shadows */
.book-spine-shadow {
  box-shadow:
    inset 10px 0 20px -10px var(--catalogue-shadow-strong),
    inset -10px 0 20px -10px var(--catalogue-shadow-medium),
    0 0 30px var(--catalogue-shadow-light);
}

/* Page edge depth shadow */
.page-edge-shadow {
  box-shadow:
    2px 0 8px var(--catalogue-shadow-light),
    4px 0 16px var(--catalogue-shadow-subtle),
    inset 0 0 30px var(--catalogue-shadow-faint);
}

/* Enhanced shadow for lifted/flipping pages */
.page-lifted-shadow {
  filter: drop-shadow(-4px 0 12px rgba(0, 0, 0, 0.15)) drop-shadow(-8px 0 24px rgba(0, 0, 0, 0.08));
}

/* =============================================================================
   PAGE EDGE HIGHLIGHTS
   Subtle lighting effects for paper realism
   ============================================================================= */

.paper-edge-highlight {
  position: relative;
}

.paper-edge-highlight::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 2px;
  background: rgba(255, 255, 255, 0.3);
  pointer-events: none;
  z-index: 1;
}

/* =============================================================================
   ANIMATIONS
   Page flip and settle animations with smooth easing
   ============================================================================= */

/* Paper curl during flip - secondary animation */
@keyframes paper-curl {
  0% {
    transform: rotateY(0deg) scaleX(1);
    box-shadow: 2px 0 8px var(--catalogue-shadow-light);
  }

  50% {
    transform: rotateY(-90deg) scaleX(0.98);
    box-shadow: 0 0 20px var(--catalogue-shadow-medium);
  }

  100% {
    transform: rotateY(-180deg) scaleX(1);
    box-shadow: -2px 0 8px var(--catalogue-shadow-light);
  }
}

/* Main page flip animation - Swiss Online style */
@keyframes paper-flip {
  0% {
    transform: rotateY(0deg) scaleX(1) translateZ(0);
    filter: brightness(1);
  }

  25% {
    transform: rotateY(-45deg) scaleX(0.98) translateZ(20px);
    filter: brightness(0.96);
  }

  50% {
    transform: rotateY(-90deg) scaleX(0.99) translateZ(15px);
    filter: brightness(0.92);
  }

  75% {
    transform: rotateY(-135deg) scaleX(0.98) translateZ(20px);
    filter: brightness(0.96);
  }

  100% {
    transform: rotateY(-180deg) scaleX(1) translateZ(0);
    filter: brightness(1);
  }
}

/* Page settle animation on load */
@keyframes paper-settle {
  0% {
    transform: translateY(-5px);
    opacity: 0.95;
  }

  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.paper-settle {
  animation: paper-settle var(--catalogue-settle-duration) ease-out;
}

/* =============================================================================
   UTILITY CLASSES
   Interaction helpers
   ============================================================================= */

/* Prevent text selection during page flip interactions */
.no-select {
  -webkit-user-select: none;
  /* Safari support */
  user-select: none;
}
